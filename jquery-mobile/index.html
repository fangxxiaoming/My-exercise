<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
    <title>Title</title>
    <style>
        .ui-mobile, .ui-mobile body{
            height: 100%;
            background: #000000;

        }
        .ui-mobile .ui-page-active{
            height: 100%;
        }
.ui-page{
    background: #000000;
}
        .container{
            width: 100%;
            height: 100%;
            background: #000000;
        }
        .imgbox{
            width:25%;
            height: 100px;
            display: block;
            float:left;
        }
        .imgbox img{
            width: 100%;
        }
        .ui-mobile .wraper{
            margin:20% 0;
            background: #000000;
            width: 100%;
            height: 100%;
            display: none;

        }

    </style>
</head>
<body>

<div class="container">
</div>
<div class="wraper"></div>
<script src="jquery-1.12..js"></script>
<script src="jquery.mobile-1.4.5.min.js"></script>
<script>
    var num=0;
    for(var i=0;i<24;i++){
        var oImg=new Image();
        oImg.onload=function () {
            num++;
            if(num == 48){
                loadSuccess();
            }

        };

        oImg.src="img/"+(i+1)+".jpg";
    }
    for(var i=0; i<24; i++){
        var oImg = new Image();
        oImg.onload = function(){
            num++;
            if(num == 48){
                loadSuccess();
            }
        }
        oImg.src="img/thumbs/"+(i+1)+".jpg";
    }
    var flag=true;
    function loadSuccess() {
        var oCon=document.getElementsByClassName('container')[0];
    for(var i=0;i<24;i++){
        var img=document.createElement('img');
        img.className='imgbox';
        img.style.background=  'url(img/thumbs/'+(i+1)+'.jpg) 0 0 no-repeat';
        oCon.append(img);
        // $('img').index=i;
    }
var num=0;
        $('.container').on('tap', '.imgbox', function (e) {
                $('.container').hide();
            var index=$(this).index();
            num=index;
                // $('body').html('<div class="wraper"><img class="himg"> </img></div>');
                $('.wraper ').show().css({
                    'background': 'url(img/' + (index + 1) + '.jpg) 0 0 no-repeat',
                    'background-size': 'contain'
                })
            e.preventDefault();
                })
// if(!($('.wraper').on('swipe'))) {

    $('.wraper').on('tap', function (e) {
        $('.wraper').hide();
        $('.container').show();
        e.preventDefault();
    }).on('swipeleft', function (e){
            num--;
            if(num==0){
                num=24
            }
            $('.wraper ').css({
                'background': 'url(img/'+ num + '.jpg) 0 0 no-repeat',
                'background-size': 'contain'

            });
        })
        $('.wraper').on('swiperight', function (e){
            num++;
            if(num==24){
                num=1
            }
            $('.wraper ').css({
                'background': 'url(img/'+ num+ '.jpg) 0 0 no-repeat ',
                'background-size': 'contain'
            });
        })
    }


</script>
</body>
</html>