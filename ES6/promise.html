<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script src="jquery-1.12..js"></script>
<script>
    // $.get('a.json',function (data) {
    //     if(data.status==1){
    //
    //     }
    //     else{
    //
    //     }
    // });
    // var p1=new Promise(function (resolve,reject) {
    //     $.get('a.json',function (data) {
    //         if(data.status==2){
    //             resolve();
    //         }else{
    //             reject();
    //         }
    //     })
    // }).then(function () {
    //     console.log('success')
    // }).catch(function () {
    //     console.log('fail')
    // })
    // var p1=new Promise(function(resolve,reject){
    //     $.get('a.json',function(data){
    //         if(data.status==1){
    //             resolve()
    //         }else{
    //             reject()
    //         }
    //     })
    // }).then(function(){
    //     console.log('success')
    // }).catch(function(){
    //     console.log('failed')
    // })
    let p1=new Promise(function(resolve,reject){
        setTimeout(function(){
        console.log(111);
        resolve()
        
    },800);
    })
   
    let p2=new Promise(function(resolve,reject){
        setTimeout(function(){
        console.log(222)
        reject()
    },1600);
    })
    let p3=new Promise(function(resolve,reject){
        setTimeout(function(){
        console.log(333)
        resolve()
    },1200);
    })
    Promise.all([p1,p2,p3]).then(function(){//只要p1、p2、p3之中有一个被rejected，p的状态就变成rejected，此时第一个被reject的实例的返回值，会传递给p的回调函数
        console.log('ok')
    }).catch(function(){
        console.log('fail')
    })
    // Promise.race([p1,p2,p3]).then(function(){
    //     console.log('ok')
    // }).catch(function(){
    //     console.log('fail')
    // })
</script>
</body>
</html>